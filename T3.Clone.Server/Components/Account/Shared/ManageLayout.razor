@using Microsoft.Extensions.Options
@using T3.Clone.Server.Configuration
@inherits LayoutComponentBase
@layout AuthLayout
@inject NavigationManager NavigationManager
@inject IOptions<Appsettings> Appsettings

<div class="manage-card">
    <div class="manage-header">
        <div class="manage-brand">
            <div class="manage-brand-title">Account Settings</div>
            <div class="manage-brand-subtitle">Manage your account preferences</div>
        </div>
        <div class="manage-return">
            <MudButton Variant="Variant.Outlined" 
                           Color="Color.Primary" 
                           StartIcon="@Icons.Material.Filled.ArrowBack"
                           Href="@GetClientUrl()"
                >
                Return to Chat
            </MudButton>
        </div>
    </div>

    <div class="manage-content">
        <div class="manage-nav">
            <ManageNavMenu/>
        </div>
        <div class="manage-body">
            @Body
        </div>
    </div>
</div>

@code {
    private string GetClientUrl()
    {
        var clientUrl = Appsettings.Value.ClientUrl;
        return $"{clientUrl}/chat";
    }
}