@page "/profile"
@using T3.Clone.Client.Components.ProfileTabs
@using T3.Clone.Dtos.User
@inject AppsettingsService AppsettingsService
@inject NavigationManager Navigation

<PageTitle>Profile - LLM Lab</PageTitle>

<div class="profile-page">
    <div class="profile-container">
        <MudContainer MaxWidth="MaxWidth.Large" Class="py-6">
            <div class="d-flex justify-space-between align-center mb-6">
                <MudText Typo="Typo.h4" GutterBottom="true">
                    Settings
                </MudText>
                
                <MudButton
                    StartIcon="@Icons.Material.Filled.SwitchAccount"
                    Variant="Variant.Outlined"
                    Color="Color.Primary"
                    Size="Size.Medium"
                    OnClick="SwitchAccount"
                    Class="switch-account-btn">
                    Switch Account
                </MudButton>
            </div>
            
            <MudTabs Elevation="4" Rounded="true" PanelClass="pa-6" Class="mt-4">
                <MudTabPanel Text="Profile" Icon="@Icons.Material.Filled.Person">
                    <ProfileManagementTab />
                </MudTabPanel>
                
                <MudTabPanel Text="API Keys" Icon="@Icons.Material.Filled.Key">
                    <AiKeysManagementTab />
                </MudTabPanel>
                
                <MudTabPanel Text="Theme" Icon="@Icons.Material.Filled.Palette">
                    <ThemeSettingsTab />
                </MudTabPanel>
            </MudTabs>
        </MudContainer>
    </div>
</div>

@code {
    private void SwitchAccount()
    {
        Navigation.NavigateTo(AppsettingsService.ServerUrl + "/Account/Login", true);
    }
} 